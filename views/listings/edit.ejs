<% layout ("/layouts/boilerplate.ejs") %>
<body>
  <div class="row mt-3"> 
    <div class="col-8 offset-2">
    <h2>Edit your listing</h2>
    <form
      method="post"
      action="/listings/<%= listing._id %>?_method=put" 
      novalidate class="needs-validation" 
      enctype="multipart/form-data">
        <div class="mb-2"> 
            <label for="title" class="form-label" >Title</label> 
            <input name= "listing[title]" value="<%=listing.title %>"  type="text" class="form-control">
            <div class="valid-feedback">Title looks Good</div>
        </div>
        <br> 
        <div class="mb-2"> 
            <label for="description" class="form-label" >Description</label> 
            <textarea name= "listing[description]"   type="text" class="form-control" ><%=listing.description %></textarea>
            <div class="invalid-feedback">enter valid description</div>
        
        </div>
        <br> 
        <div class="mb-2"> 
            Original Image Url <br>
             <img src="<%= originalImageUrl %>" >
        </div>
        <div class="mb-2"> 
            <label for="image" class="form-label" >Image</label> 
            <input 
            name= "listing[image]" 
            value="<%=listing.image || 'https://via.placeholder.com/400x300?text=No+Image' %>" 
            type="file"  
            class="form-control"
             />
        </div>
        <br> 
        <div class="row">
            <div class="mb-2 col-md-4"> 
                 <label for="price" class="form-label" >Price</label> 
                 <input name= "listing[price]" value="<%=listing.price %>"  type="number" class="form-control">
                 <div class="invalid-feedback">enter valid price</div>
            </div>
            <br> 
            <div class="mb-2 col-md-8"> 
                 <label for="country" class="form-label" >Country</label> 
                 <input name= "listing[country]"  value="<%=listing.country %>"  type="text" class="form-control">
                 <div class="invalid-feedback">enter valid country</div>
            </div>
       </div> 
        <br> 
        <div class="mb-2"> 
            <label for="location" class="form-label" >Location</label> 
            <input name= "listing[location]" value="<%=listing.location %>" type="text" class="form-control">
            <div class="invalid-feedback">enter valid location</div>
        </div>
        
        <button class="edit-btn mt-3">Edit</button>
        <br><br>
   </form>
  </div> 
 </div> 
</body>
